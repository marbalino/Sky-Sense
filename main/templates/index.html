{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero">
    <div class="hero-container">
        <div class="hero-content">
            <h1 class="hero-title">
                Environment and Infrastructure Monitoring
            </h1>
            <p class="hero-description">
                Detect pipe breaks, flood risks, extreme weather, chemical contamination, and infrastructure anomalies 
                before they escalate. Our monitoring systems combine off grid communication, sensor arrays and advanced modeling techniques for real time protection.
           </p>
            
            <div class="hero-buttons">
                <a href="#hardware" class="btn btn-primary">
                    <i class="fas fa-play"></i>
                    Explore Technology
                </a>
                <a href="#services" class="btn btn-secondary">
                    <i class="fas fa-arrow-right"></i>
                    Our Services
                </a>
            </div>
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number stat-with-percent">100</span>
                    <span class="stat-label">Off Grid</span>
                </div>
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Monitoring</span>
                </div>
                <div class="stat">
                    <span class="stat-number">∞</span>
                    <span class="stat-label">Range*</span>
                </div>
                <div class="stat">
                    <span class="stat-number">$0</span>
                    <span class="stat-label">Communication Cost</span>
                </div>
            </div>
        </div>


        <div class="hero-visual">
            <svg class="network-diagram" viewBox="0 0 600 300" aria-label="Telemetry network diagram">
        
                <!-- Connection lines -->
                <line x1="120" y1="200" x2="260" y2="150" class="link"/>
                <line x1="120" y1="100" x2="260" y2="150" class="link"/>
                <line x1="260" y1="150" x2="420" y2="150" class="link"/>
                <line x1="420" y1="150" x2="520" y2="150" class="link"/>
        
                <!-- Sensors -->
                <g class="node sensor" transform="translate(120,100)">
                    <circle r="22"/>
                    <i class="fas fa-thermometer-half"></i>
                    <text y="45">Sensor</text>
                </g>
        
                <g class="node sensor" transform="translate(120,200)">
                    <circle r="22"/>
                    <i class="fas fa-tint"></i>
                    <text y="45">Sensor</text>
                </g>
        
                <!-- Mesh Node -->
                <g class="node mesh" transform="translate(260,150)">
                    <circle r="26"/>
                    <i class="fas fa-project-diagram"></i>
                    <text y="50">Mesh Network</text>
                </g>
        
                <!-- Gateway -->
                <g class="node gateway" transform="translate(420,150)">
                    <circle r="26"/>
                    <i class="fas fa-wifi"></i>
                    <text y="50">Gateway</text>
                </g>
        
                <!-- Cloud -->
                <g class="node cloud" transform="translate(520,150)">
                    <circle r="26"/>
                    <i class="fas fa-cloud"></i>
                    <text y="50">Cloud</text>
                </g>
        
            </svg>
        </div>
    </div>
    
</section>

<!-- Live Demo Section -->
<section class="demo-section">
    <div class="demo-container">
        <div class="demo-header">
            <h2>Digital Twins</h2>
            <p>Berkeley's watershed and sewer infrastructure with real-time sensor data</p>
            
        </div>
        
        <div class="live-map-container" id="liveMapContainer">
            <div class="map-frame">
                <div class="map-header">
                    <div class="map-status">
                        <div class="status-indicator live"></div>
                        <span>Live Data</span>
                    </div>
                   
                    <div class="map-legend">
                        <div class="legend-item">
                            <div class="legend-dot sensor-dot"></div>
                            <span>Sensors</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line creek-line"></div>
                            <span>Creeks</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line sewer-line"></div>
                            <span>Sewer Lines</span>
                        </div>
                    </div>
                </div>
                
                <div class="embedded-map">
                    <div class="map-and-sensors-container">
                        <div class="map-container-wrapper">
                            <div id="skysense-map" class="interactive-map"></div>
                        </div>
                        
                        <!-- Integrated Sensor Panel -->
                        <div class="integrated-sensor-panel" id="integrated-sensor-panel">
                            <div class="sensor-panel-header">
                                <h4 class="sensor-panel-title"><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                                <div class="sensor-panel-controls">
                                    <button id="toggle-panel" class="panel-toggle-btn" title="Show/Hide Sensor Data">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="sensor-panel-content" id="sensor-panel-content">
                                <div id="live-sensor-dashboard" class="integrated-sensor-dashboard">
                                    <!-- Sensor cards will be dynamically added here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="map-controls">
                        <div class="layer-controls">
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sensors" checked>
                                <span>Sensors</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-creeks" checked>
                                <span>Creeks</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sewers" checked>
                                <span>Sewer Lines</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-storms" checked>
                                <span>Storm Drains</span>
                            </label>
                        </div>
                        <div class="map-actions">
                            <button id="reset-view" class="map-btn" title="Reset to default view">
                                <i class="fas fa-home"></i>
                            </button>
                            <button id="locate-user" class="map-btn" title="Find my location">
                                <i class="fas fa-crosshairs"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Keep the original dashboard for backward compatibility -->
                    <div class="sensor-dashboard" id="sensor-dashboard" style="display: none;">
                        <div class="dashboard-header">
                            <h4><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                            <button id="close-dashboard" class="close-btn">×</button>
                        </div>
                        <div class="dashboard-content">
                            <div class="loading-text">Click on a sensor to view data...</div>
                        </div>
                    </div>
                </div>
        </div>
        
        <div class="demo-stats">
            <div class="stat-card">
                <i class="fas fa-broadcast-tower"></i>
                <div class="stat-info">
                    <span class="stat-number">10+</span>
                    <span class="stat-label">Active Sensors</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-clock"></i>
                <div class="stat-info">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Live Monitoring</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-database"></i>
                <div class="stat-info">
                    <span class="stat-number">1M+</span>
                    <span class="stat-label">Data Points</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <div class="stat-info">
                    <span class="stat-number">Open</span>
                    <span class="stat-label">Public Access</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Communications & Telemetry Section -->
<section id="communications" class="hardware-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Connectivity</span>
            <h2>Communications & Telemetry</h2>
            <p>
                Reliable data delivery from anywhere — even where power, internet, or cellular service is limited or unavailable.
                Our systems transmit sensor data using the best available network, including Meshtastic mesh,
                Helium LoRaWAN, Wi-Fi, and cellular connections.
            </p>
        </div>

        <div class="hardware-grid">

            <!-- Internet Gateway -->
            <div class="hardware-card gateway-card">
                <div class="card-icon">
                    <i class="fas fa-wifi"></i>
                </div>
                <h3>Internet Gateway</h3>
                <p>
                    Serves as the connection point between field-deployed sensors and the cloud.
                    Gateways collect long-range wireless data and forward it securely using
                    Wi-Fi or cellular networks when available.
                </p>

                <div class="hardware-specs">
                    <h4>Key Capabilities</h4>
                    <ul>
                        <li><i class="fas fa-broadcast-tower"></i> Long-range LoRa data reception</li>
                        <li><i class="fas fa-network-wired"></i> Wi-Fi or cellular internet backhaul</li>
                        <li><i class="fas fa-cloud"></i> Secure, automatic cloud delivery</li>
                    </ul>
                </div>
            </div>

            <!-- Mesh & Relay Nodes -->
            <div class="hardware-card node-card">
                <div class="card-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <h3>Mesh & Relay Nodes</h3>
                <p>
                    Expand coverage into remote, obstructed, or off-grid environments.
                    These nodes relay data between devices, forming a resilient, self-healing mesh
                    that adapts as conditions change.
                </p>

                <div class="hardware-specs">
                    <h4>Ideal Use Cases</h4>
                    <ul>
                        <li><i class="fas fa-mountain"></i> Remote terrain and canyons</li>
                        <li><i class="fas fa-tree"></i> Forests, watersheds, and rural areas</li>
                        <li><i class="fas fa-solar-panel"></i> Fully off-grid deployments</li>
                        <li><i class="fas fa-random"></i> Multi-hop, long-distance routing</li>
                    </ul>
                </div>
            </div>

            <!-- Sensor Telemetry Units -->
            <div class="hardware-card transmitter-card">
                <div class="card-icon">
                    <i class="fas fa-satellite-dish"></i>
                </div>
                <h3>Sensor Telemetry Units</h3>
                <p>
                    Collect and transmit environmental data using ultra-low-power wireless communication.
                    Designed for long-term deployment with minimal maintenance in challenging environments.
                </p>

                <div class="hardware-specs">
                    <h4>Supported Communication Paths</h4>
                    <ul>
                        <li><i class="fas fa-share-alt"></i> Meshtastic mesh networks</li>
                        <li><i class="fas fa-signal"></i> Helium LoRaWAN coverage</li>
                        <li><i class="fas fa-wifi"></i> Local Wi-Fi connections</li>
                        <li><i class="fas fa-sim-card"></i> Cellular networks</li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="hardware-links">
            <a href="https://meshmap.net/" target="_blank" class="hardware-link">
                <i class="fas fa-map-marked-alt"></i>
                View Meshtastic Community Coverage Map
            </a>
        </div>
    </div>
</section>

<!-- Technology Section -->
<section id="technology" class="technology-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">AI Technology</span>
            <h2>Advanced Anomaly Detection</h2>
            <p>Machine learning and neural networks for intelligent environmental monitoring</p>
        </div>
        
        <div class="tech-content">
            <div class="tech-features">          
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Graph Neural Networks</h3>
                        <p>Advanced GNN architectures that understand the relationships between sensors, enabling system-wide anomaly detection and root cause analysis.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Digital Twins</h3>
                        <p>Real-time digital replicas of physical infrastructure that enable predictive maintenance and scenario simulation.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Early Warning Systems</h3>
                        <p>Detect pipe breaks, flood risks, chemical contamination, and other damaging events before they escalate into major problems.</p>
                    </div>
                </div>
            </div>
            
            <div class="tech-visual">
                <div class="ai-network">
                    <div class="network-layer input-layer">
                        <div class="neuron">
                            <i class="fas fa-tint"></i>
                        </div>
                        <div class="neuron">
                            <i class="fas fa-thermometer-half"></i>
                        </div>
                        <div class="neuron">
                            <i class="fas fa-wind"></i>
                        </div>
                    </div>
                    
                    <div class="network-layer hidden-layer">
                        <div class="neuron"></div>
                        <div class="neuron"></div>
                        <div class="neuron"></div>
                        <div class="neuron"></div>
                    </div>
                    
                    <div class="network-layer output-layer">
                        <div class="neuron prediction">
                            <i class="fas fa-check"></i>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</section>

<!-- Services Section -->
<section id="services" class="services-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Services</span>
            <h2>Solutions</h2>
            <p>We use open-source software, intelligent designs, and maintain relationships with manufacturers to pass savings on to you. From concept to deployment - we are here to help!</p>
        </div>
        
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Software</h3>
                <p>Custom environmental monitoring applications, real-time dashboards, and data analytics platforms.</p>
                <ul>
                    <li>Real-time monitoring dashboards</li>
                    <li>Secure access and encryption</li>
                    <li>API development</li>
                    <li>Cloud integration</li>
                    <li>SMS and email alerts</li>
                    <li>Advanced anomally detection</li> 
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-microchip"></i>
                </div>
                <h3>Hardware</h3>
                <p>Custom sensor networks, IoT devices, and communication systems for harsh environments.</p>
                <ul>
                    <li>Preconfigured Sensor Arrays</li>
                    <li>LoRa mesh networks</li>
                    <li>Weatherproof enclosures</li>
                    <li>Power management</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3>Educational Outreach</h3>
                <p>Training programs, workshops, and educational resources for communities and organizations.</p>
                <ul>
                    <li>Community workshops</li>
                    <li>Technical training</li>
                    <li>Educational materials</li>
                    <li>Open source contributions</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <h3>Custom Installations</h3>
                <p>End-to-end deployment of monitoring systems tailored to your specific environmental needs.</p>
                <ul>
                    <li>Site assessment</li>
                    <li>System design</li>
                    <li>Installation & setup</li>
                    <li>Ongoing maintenance and free training to do it internally</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-container">
        <h2>Ready to Monitor Your Environment?</h2>
        <p>Join the future of environment and infrastructure monitoring with open-source and transparent solutions.</p>
        
        <div class="cta-buttons">
            <a href="#contact" class="btn btn-primary">
                <i class="fas fa-rocket"></i>
                Get Started
            </a>
            <a href="https://github.com/your-org" target="_blank" class="btn btn-outline">
                <i class="fab fa-github"></i>
                View on GitHub
            </a>
        </div>
        
        <div class="cta-features">
            <div class="cta-feature">
                <i class="fas fa-open-source"></i>
                <span>Open Source</span>
            </div>
            <div class="cta-feature">
                <i class="fas fa-dollar-sign"></i>
                <span>Transparent Pricing</span>
            </div>
            <div class="cta-feature">
                <i class="fas fa-users"></i>
                <span>Community Driven</span>
            </div>
        </div>
    </div>
</section>
{% endblock %}
