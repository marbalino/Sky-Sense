{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero">
    <div class="hero-container">
        <div class="hero-content">
            <h1 class="hero-title">
                Environment and Infrastructure Monitoring
            </h1>
            <p class="hero-description">
                Simplifying professional-grade environmental monitoring. Detect hazards before they escalate using digital twins and anomaly detection ‚Äî no coding required. Off-grid sensors deliver actionable alerts wherever you need them.
            </p>
            
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number stat-with-percent">100</span>
                    <span class="stat-label">Off Grid</span>
                </div>
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Monitoring</span>
                </div>
                <div class="stat">
                    <span class="stat-number">‚àû</span>
                    <span class="stat-label">Range*</span>
                </div>
                <div class="stat">
                    <span class="stat-number">$0</span>
                    <span class="stat-label">Communication Cost</span>
                </div>
            </div>
        </div>


        <div class="hero-visual">
            <svg class="network-diagram" viewBox="0 0 800 380" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: auto; display: block;" aria-label="Field to cloud monitoring journey">

                <defs>
                    <!-- Gradients -->
                    <linearGradient id="fieldGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0284c7;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="meshGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="cloudGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="solarGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="0%" style="stop-color:#1e3a5f;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0ea5e9;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Stage Labels -->
                <text x="95" y="35" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="0.5">FIELD SENSORS</text>
                <text x="295" y="35" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="0.5">MESH NETWORK</text>
                <text x="510" y="35" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="0.5">CLOUD</text>
                <text x="700" y="35" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="0.5">INSIGHTS</text>

                <!-- Connection Lines -->
                <g class="connections" opacity="0.5">
                    <!-- Field to Mesh -->
                    <path d="M 145 130 Q 190 130 220 160" stroke="#0ea5e9" stroke-width="2" fill="none" stroke-dasharray="6 3"/>
                    <path d="M 145 220 Q 190 220 220 190" stroke="#0ea5e9" stroke-width="2" fill="none" stroke-dasharray="6 3"/>

                    <!-- Mesh internal connections -->
                    <line x1="270" y1="120" x2="320" y2="175" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4 2"/>
                    <line x1="270" y1="250" x2="320" y2="195" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4 2"/>
                    <line x1="270" y1="120" x2="270" y2="250" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="4 2"/>

                    <!-- Mesh to Cloud -->
                    <path d="M 360 185 L 440 185" stroke="#22c55e" stroke-width="2" fill="none" stroke-dasharray="6 3"/>

                    <!-- Cloud to Outputs -->
                    <path d="M 575 170 L 630 140" stroke="#6366f1" stroke-width="2" fill="none" stroke-dasharray="6 3"/>
                    <path d="M 575 200 L 630 220" stroke="#6366f1" stroke-width="2" fill="none" stroke-dasharray="6 3"/>
                </g>

                <!-- STAGE 1: Field Sensors -->
                <g class="field-sensors">
                    <!-- Sensor Unit 1 with Solar -->
                    <g transform="translate(70, 130)">
                        <!-- Solar panel -->
                        <rect x="-18" y="-55" width="36" height="20" rx="2" fill="url(#solarGrad)" stroke="#0c4a6e" stroke-width="1"/>
                        <line x1="-12" y1="-55" x2="-12" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="-6" y1="-55" x2="-6" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="0" y1="-55" x2="0" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="6" y1="-55" x2="6" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="12" y1="-55" x2="12" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <!-- Pole -->
                        <rect x="-2" y="-35" width="4" height="15" fill="#475569"/>
                        <!-- Sensor box -->
                        <rect x="-22" y="-20" width="44" height="40" rx="4" fill="url(#fieldGrad)"/>
                        <text x="0" y="5" fill="white" font-size="16" text-anchor="middle">üå°Ô∏è</text>
                        <text x="0" y="38" fill="#475569" font-size="9" text-anchor="middle">Air Sensors</text>
                    </g>

                    <!-- Sensor Unit 2 with Solar -->
                    <g transform="translate(120, 220)">
                        <!-- Solar panel -->
                        <rect x="-18" y="-55" width="36" height="20" rx="2" fill="url(#solarGrad)" stroke="#0c4a6e" stroke-width="1"/>
                        <line x1="-12" y1="-55" x2="-12" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="-6" y1="-55" x2="-6" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="0" y1="-55" x2="0" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="6" y1="-55" x2="6" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <line x1="12" y1="-55" x2="12" y2="-35" stroke="#0c4a6e" stroke-width="0.5"/>
                        <!-- Pole -->
                        <rect x="-2" y="-35" width="4" height="15" fill="#475569"/>
                        <!-- Sensor box -->
                        <rect x="-22" y="-20" width="44" height="40" rx="4" fill="url(#fieldGrad)"/>
                        <text x="0" y="5" fill="white" font-size="16" text-anchor="middle">üíß</text>
                        <text x="0" y="38" fill="#475569" font-size="9" text-anchor="middle">Water Sensors</text>
                    </g>

                    <!-- Ground line suggestion -->
                    <path d="M 30 280 Q 60 275 90 280 Q 120 285 150 280" stroke="#94a3b8" stroke-width="1" fill="none" opacity="0.5"/>
                </g>

                <!-- STAGE 2: Mesh Network -->
                <g class="mesh-network">
                    <!-- LoRa Node 1 -->
                    <g transform="translate(250, 120)">
                        <circle r="20" fill="url(#meshGrad)"/>
                        <!-- Antenna icon -->
                        <rect x="-1" y="-12" width="2" height="10" fill="white"/>
                        <circle cx="0" cy="-14" r="2" fill="white"/>
                        <!-- Radio waves -->
                        <path d="M 8 -8 Q 14 0 8 8" stroke="white" stroke-width="1.5" fill="none" opacity="0.7"/>
                        <path d="M 14 -12 Q 22 0 14 12" stroke="white" stroke-width="1" fill="none" opacity="0.5"/>
                    </g>

                    <!-- LoRa Node 2 (relay) -->
                    <g transform="translate(320, 185)">
                        <circle r="24" fill="url(#meshGrad)"/>
                        <rect x="-1" y="-14" width="2" height="12" fill="white"/>
                        <circle cx="0" cy="-16" r="2.5" fill="white"/>
                        <path d="M 10 -10 Q 18 0 10 10" stroke="white" stroke-width="1.5" fill="none" opacity="0.7"/>
                        <path d="M 17 -15 Q 28 0 17 15" stroke="white" stroke-width="1" fill="none" opacity="0.5"/>
                        <text x="0" y="45" fill="#475569" font-size="9" text-anchor="middle">LoRa Relay</text>
                    </g>

                    <!-- LoRa Node 3 -->
                    <g transform="translate(250, 250)">
                        <circle r="20" fill="url(#meshGrad)"/>
                        <rect x="-1" y="-12" width="2" height="10" fill="white"/>
                        <circle cx="0" cy="-14" r="2" fill="white"/>
                        <path d="M 8 -8 Q 14 0 8 8" stroke="white" stroke-width="1.5" fill="none" opacity="0.7"/>
                    </g>

                    <!-- "No WiFi/Cell needed" badge -->
                    <g transform="translate(295, 300)">
                        <rect x="-55" y="-12" width="110" height="24" rx="12" fill="#f0fdf4" stroke="#22c55e" stroke-width="1"/>
                        <text x="0" y="4" fill="#16a34a" font-size="9" text-anchor="middle" font-weight="500">No WiFi or Cell Needed</text>
                    </g>
                </g>

                <!-- STAGE 3: Cloud Processing -->
                <g class="cloud-hub" transform="translate(510, 185)">
                    <!-- Cloud shape -->
                    <ellipse cx="0" cy="0" rx="60" ry="45" fill="#eef2ff" stroke="#6366f1" stroke-width="2"/>

                    <!-- Server/processing icon inside -->
                    <rect x="-20" y="-25" width="40" height="50" rx="4" fill="url(#cloudGrad)"/>
                    <rect x="-14" y="-18" width="28" height="4" rx="1" fill="white" opacity="0.8"/>
                    <rect x="-14" y="-10" width="28" height="4" rx="1" fill="white" opacity="0.6"/>
                    <rect x="-14" y="-2" width="28" height="4" rx="1" fill="white" opacity="0.4"/>
                    <circle cx="10" cy="14" r="3" fill="#22c55e"/>
                    <text x="0" y="70" fill="#475569" font-size="9" text-anchor="middle">Processing & Storage</text>
                </g>

                <!-- STAGE 4: Insights/Outputs -->
                <g class="insights">
                    <!-- Alert notification -->
                    <g transform="translate(700, 110)">
                        <rect x="-45" y="-22" width="90" height="44" rx="6" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5"/>
                        <text x="0" y="6" fill="#dc2626" font-size="11" font-weight="500" text-anchor="middle">‚ö†Ô∏è Alerts</text>
                    </g>

                    <!-- Digital Twins -->
                    <g transform="translate(700, 180)">
                        <rect x="-45" y="-22" width="90" height="44" rx="6" fill="#eef2ff" stroke="#6366f1" stroke-width="1.5"/>
                        <text x="0" y="6" fill="#4f46e5" font-size="11" font-weight="500" text-anchor="middle">üßä Digital Twins</text>
                    </g>

                    <!-- Dashboard -->
                    <g transform="translate(700, 250)">
                        <rect x="-45" y="-22" width="90" height="44" rx="6" fill="#f0fdf4" stroke="#22c55e" stroke-width="1.5"/>
                        <text x="0" y="6" fill="#16a34a" font-size="11" font-weight="500" text-anchor="middle">üìä Dashboard</text>
                    </g>
                </g>

                <!-- Animated data flow dots -->
                <g class="data-flow-dots">
                    <!-- Field to Mesh dot 1 -->
                    <circle r="4" fill="#00C805" opacity="0.9">
                        <animateMotion dur="2.5s" repeatCount="indefinite" path="M 145 130 Q 190 130 220 160 L 250 120"/>
                    </circle>

                    <!-- Field to Mesh dot 2 -->
                    <circle r="4" fill="#00C805" opacity="0.9">
                        <animateMotion dur="2.5s" repeatCount="indefinite" path="M 145 220 Q 190 220 220 190 L 250 250" begin="0.8s"/>
                    </circle>

                    <!-- Mesh to Cloud dot -->
                    <circle r="4" fill="#00C805" opacity="0.9">
                        <animateMotion dur="2s" repeatCount="indefinite" path="M 345 185 L 450 185" begin="0.3s"/>
                    </circle>

                </g>

            </svg>
        </div>
    </div>
    
</section>

<!-- Live Demo Section -->
<section class="demo-section">
    <div class="demo-container">
        <div class="demo-header">
            <h2>Digital Twins</h2>
            <p>Berkeley's watershed and sewer infrastructure with real-time sensor data</p>
            
        </div>
        
        <div class="live-map-container" id="liveMapContainer">
            <div class="map-frame">
                <div class="map-header">
                    <div class="map-status">
                        <div class="status-indicator live"></div>
                        <span>Live Data</span>
                    </div>
                   
                    <div class="map-legend">
                        <div class="legend-item">
                            <div class="legend-dot sensor-dot"></div>
                            <span>Sensors</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line creek-line"></div>
                            <span>Creeks</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line sewer-line"></div>
                            <span>Sewer Lines</span>
                        </div>
                    </div>
                </div>
                
                <div class="embedded-map">
                    <div class="map-and-sensors-container">
                        <div class="map-container-wrapper">
                            <div id="skysense-map" class="interactive-map"></div>
                        </div>
                        
                        <!-- Integrated Sensor Panel -->
                        <div class="integrated-sensor-panel" id="integrated-sensor-panel">
                            <div class="sensor-panel-header">
                                <h4 class="sensor-panel-title"><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                                <div class="sensor-panel-controls">
                                    <button id="toggle-panel" class="panel-toggle-btn" title="Show/Hide Sensor Data">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="sensor-panel-content" id="sensor-panel-content">
                                <div id="live-sensor-dashboard" class="integrated-sensor-dashboard">
                                    <!-- Sensor cards will be dynamically added here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="map-controls">
                        <div class="layer-controls">
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sensors" checked>
                                <span>Sensors</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-creeks" checked>
                                <span>Creeks</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sewers" checked>
                                <span>Sewer Lines</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-storms" checked>
                                <span>Storm Drains</span>
                            </label>
                        </div>
                        <div class="map-actions">
                            <button id="reset-view" class="map-btn" title="Reset to default view">
                                <i class="fas fa-home"></i>
                            </button>
                            <button id="locate-user" class="map-btn" title="Find my location">
                                <i class="fas fa-crosshairs"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Keep the original dashboard for backward compatibility -->
                    <div class="sensor-dashboard" id="sensor-dashboard" style="display: none;">
                        <div class="dashboard-header">
                            <h4><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                            <button id="close-dashboard" class="close-btn">√ó</button>
                        </div>
                        <div class="dashboard-content">
                            <div class="loading-text">Click on a sensor to view data...</div>
                        </div>
                    </div>
                </div>
        </div>
        
        <div class="demo-stats">
            <div class="stat-card">
                <i class="fas fa-broadcast-tower"></i>
                <div class="stat-info">
                    <span class="stat-number">10+</span>
                    <span class="stat-label">Active Sensors</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-clock"></i>
                <div class="stat-info">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Live Monitoring</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-database"></i>
                <div class="stat-info">
                    <span class="stat-number">1M+</span>
                    <span class="stat-label">Data Points</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <div class="stat-info">
                    <span class="stat-number">Open</span>
                    <span class="stat-label">Public Access</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Communications & Telemetry Section -->
<section id="communications" class="hardware-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Connectivity</span>
            <h2>Communications & Telemetry</h2>
            <p>
                Reliable data delivery from anywhere ‚Äî even where power, internet, or cellular service is limited or unavailable.
                Our systems transmit sensor data using the best available network, including Meshtastic mesh,
                Helium LoRaWAN, Wi-Fi, and cellular connections.
            </p>
        </div>

        <div class="hardware-grid">

            <!-- Internet Gateway -->
            <div class="hardware-card gateway-card">
                <div class="card-icon">
                    <i class="fas fa-wifi"></i>
                </div>
                <h3>Internet Gateway</h3>
                <p>
                    Serves as the connection point between field-deployed sensors and the cloud.
                    Gateways collect long-range wireless data and forward it securely using
                    Wi-Fi or cellular networks when available.
                </p>

                <div class="hardware-specs">
                    <h4>Key Capabilities</h4>
                    <ul>
                        <li><i class="fas fa-broadcast-tower"></i> Long-range LoRa data reception</li>
                        <li><i class="fas fa-network-wired"></i> Wi-Fi or cellular internet backhaul</li>
                        <li><i class="fas fa-cloud"></i> Secure, automatic cloud delivery</li>
                    </ul>
                </div>
            </div>

            <!-- Mesh & Relay Nodes -->
            <div class="hardware-card node-card">
                <div class="card-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <h3>Mesh & Relay Nodes</h3>
                <p>
                    Expand coverage into remote, obstructed, or off-grid environments.
                    These nodes relay data between devices, forming a resilient, self-healing mesh
                    that adapts as conditions change.
                </p>

                <div class="hardware-specs">
                    <h4>Ideal Use Cases</h4>
                    <ul>
                        <li><i class="fas fa-mountain"></i> Remote terrain and canyons</li>
                        <li><i class="fas fa-tree"></i> Forests, watersheds, and rural areas</li>
                        <li><i class="fas fa-solar-panel"></i> Fully off-grid deployments</li>
                        <li><i class="fas fa-random"></i> Multi-hop, long-distance routing</li>
                    </ul>
                </div>
            </div>

            <!-- Sensor Telemetry Units -->
            <div class="hardware-card transmitter-card">
                <div class="card-icon">
                    <i class="fas fa-satellite-dish"></i>
                </div>
                <h3>Sensor Telemetry Units</h3>
                <p>
                    Collect and transmit environmental data using ultra-low-power wireless communication.
                    Designed for long-term deployment with minimal maintenance in challenging environments.
                </p>

                <div class="hardware-specs">
                    <h4>Supported Communication Paths</h4>
                    <ul>
                        <li><i class="fas fa-share-alt"></i> Meshtastic mesh networks</li>
                        <li><i class="fas fa-signal"></i> Helium LoRaWAN coverage</li>
                        <li><i class="fas fa-wifi"></i> Local Wi-Fi connections</li>
                        <li><i class="fas fa-sim-card"></i> Cellular networks</li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="hardware-links">
            <a href="https://meshmap.net/" target="_blank" class="hardware-link">
                <i class="fas fa-map-marked-alt"></i>
                Meshtastic Coverage Map
            </a>
            <a href="https://world.helium.com/en/network/iot" target="_blank" class="hardware-link">
                <i class="fas fa-broadcast-tower"></i>
                Helium Network Explorer
            </a>
        </div>
    </div>
</section>

<!-- Technology Section -->
<section id="technology" class="technology-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">AI Technology</span>
            <h2>Advanced Anomaly Detection</h2>
            <p>Machine learning and neural networks for intelligent environmental monitoring</p>
        </div>
        
        <div class="tech-content">
            <div class="tech-features">          
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Graph Neural Networks</h3>
                        <p>Advanced GNN architectures that understand the relationships between sensors, enabling system-wide anomaly detection and root cause analysis.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Digital Twins</h3>
                        <p>Real-time digital replicas of physical infrastructure that enable predictive maintenance and scenario simulation.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Early Warning Systems</h3>
                        <p>Detect pipe breaks, flood risks, chemical contamination, and other damaging events before they escalate into major problems.</p>
                    </div>
                </div>
            </div>
            
            <div class="tech-visual">
                <svg class="pipeline-diagram" viewBox="0 0 700 400" aria-label="GNN-informed Digital Twin pipeline">
                    <defs>
                        <!-- Gradients -->
                        <linearGradient id="sensorInputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="digitalTwinGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="gnnGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="insightGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="alertGradRed" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                        </linearGradient>

                        <!-- Glow filter -->
                        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>

                    <!-- Connection Lines (behind everything) -->
                    <g class="pipeline-connections" opacity="0.6">
                        <!-- Sensors to Digital Twin -->
                        <path d="M 95 120 Q 140 120 160 180" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 95 200 L 160 200" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 95 280 Q 140 280 160 220" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>

                        <!-- Digital Twin to GNN -->
                        <path d="M 295 200 L 370 160" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 295 200 L 370 200" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 295 200 L 370 240" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>

                        <!-- GNN to Insights -->
                        <path d="M 500 180 L 560 120" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 200 L 560 190" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 220 L 560 260" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 240 L 560 330" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                    </g>

                    <!-- STAGE 1: Sensor Inputs -->
                    <g class="sensor-inputs">
                        <text x="60" y="50" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">SENSORS</text>

                        <!-- Water Sensor -->
                        <g class="sensor-node" transform="translate(60, 120)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üíß</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Water</text>
                        </g>

                        <!-- Air Sensor -->
                        <g class="sensor-node" transform="translate(60, 200)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üå°</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Air</text>
                        </g>

                        <!-- Pressure Sensor -->
                        <g class="sensor-node" transform="translate(60, 280)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üìä</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Pressure</text>
                        </g>
                    </g>

                    <!-- STAGE 2: Digital Twin (Prominent) -->
                    <g class="digital-twin-core" transform="translate(225, 200)">
                        <text x="0" y="-95" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">DIGITAL TWIN</text>

                        <!-- Outer glow ring -->
                        <circle r="72" fill="none" stroke="#10b981" stroke-width="1" opacity="0.3" />

                        <!-- Main container -->
                        <circle r="65" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>

                        <!-- Mini infrastructure schematic inside -->
                        <g class="infra-schematic" opacity="0.8">
                            <!-- Pipes -->
                            <path d="M -35 -20 L -35 20 L 0 20" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M 35 -20 L 35 20 L 0 20" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M 0 20 L 0 40" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M -20 -35 L 20 -35" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M -20 -35 L -20 -20 L -35 -20" stroke="#059669" stroke-width="2" fill="none" stroke-linecap="round"/>
                            <path d="M 20 -35 L 20 -20 L 35 -20" stroke="#059669" stroke-width="2" fill="none" stroke-linecap="round"/>

                            <!-- Junction nodes -->
                            <circle cx="-35" cy="-20" r="4" fill="#10b981"/>
                            <circle cx="35" cy="-20" r="4" fill="#10b981"/>
                            <circle cx="0" cy="20" r="5" fill="#10b981"/>
                            <circle cx="-20" cy="-35" r="3" fill="#10b981"/>
                            <circle cx="20" cy="-35" r="3" fill="#10b981"/>

                            <!-- Sensor points on infrastructure -->
                            <circle cx="-35" cy="0" r="3" fill="#3b82f6" />
                            <circle cx="35" cy="0" r="3" fill="#3b82f6" />
                            <circle cx="0" cy="-35" r="3" fill="#3b82f6" />
                        </g>
                    </g>

                    <!-- STAGE 3: GNN Graph Network -->
                    <g class="gnn-network" transform="translate(435, 200)">
                        <text x="0" y="-95" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">GNN LAYER</text>

                        <!-- Graph edges (connections between nodes) -->
                        <g class="graph-edges" stroke="#8b5cf6" stroke-width="1.5" opacity="0.5">
                            <line x1="-40" y1="-40" x2="0" y2="-25"/>
                            <line x1="-40" y1="-40" x2="-45" y2="10"/>
                            <line x1="40" y1="-35" x2="0" y2="-25"/>
                            <line x1="40" y1="-35" x2="45" y2="15"/>
                            <line x1="0" y1="-25" x2="-45" y2="10"/>
                            <line x1="0" y1="-25" x2="45" y2="15"/>
                            <line x1="-45" y1="10" x2="-25" y2="45"/>
                            <line x1="45" y1="15" x2="25" y2="50"/>
                            <line x1="-25" y1="45" x2="25" y2="50"/>
                            <line x1="-45" y1="10" x2="45" y2="15"/>
                            <line x1="0" y1="-25" x2="-25" y2="45"/>
                            <line x1="0" y1="-25" x2="25" y2="50"/>
                        </g>

                        <!-- Graph nodes -->
                        <circle cx="-40" cy="-40" r="12" fill="url(#gnnGrad)" />
                        <circle cx="40" cy="-35" r="12" fill="url(#gnnGrad)" />
                        <circle cx="0" cy="-25" r="14" fill="url(#gnnGrad)" />
                        <circle cx="-45" cy="10" r="11" fill="url(#gnnGrad)" />
                        <circle cx="45" cy="15" r="11" fill="url(#gnnGrad)" />
                        <circle cx="-25" cy="45" r="10" fill="url(#gnnGrad)" />
                        <circle cx="25" cy="50" r="10" fill="url(#gnnGrad)" />
                    </g>

                    <!-- STAGE 4: Decision Insights -->
                    <g class="insights-output">
                        <text x="620" y="50" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">INSIGHTS</text>

                        <!-- Anomaly Alert -->
                        <g transform="translate(615, 110)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#alertGradRed)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">‚ö†Ô∏è Anomaly</text>
                        </g>

                        <!-- System Health -->
                        <g transform="translate(615, 180)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#digitalTwinGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üìà Health</text>
                        </g>

                        <!-- Predictive Maintenance -->
                        <g transform="translate(615, 250)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#insightGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üîß Predict</text>
                        </g>

                        <!-- Real-time Alerts -->
                        <g transform="translate(615, 320)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#sensorInputGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üîî Alerts</text>
                        </g>
                    </g>

                </svg>
            </div>
        </div>
    </div>
</section>

<!-- Services Section -->
<section id="services" class="services-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Services</span>
            <h2>Solutions</h2>
            <p>We are here to help!</p>
        </div>
        
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Software</h3>
                <p>Custom environmental monitoring applications, real-time dashboards, and data analytics platforms.</p>
                <ul>
                    <li>Real-time monitoring dashboards</li>
                    <li>Secure access and encryption</li>
                    <li>API development</li>
                    <li>Cloud integration</li>
                    <li>SMS and email alerts</li>
                    <li>Advanced anomaly detection</li> 
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-microchip"></i>
                </div>
                <h3>Hardware</h3>
                <p>Custom sensor networks, IoT devices, and communication systems for harsh environments.</p>
                <ul>
                    <li>Preconfigured Sensor Arrays</li>
                    <li>LoRa mesh networks</li>
                    <li>Weatherproof enclosures</li>
                    <li>Power management</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3>Educational Outreach</h3>
                <p>Training programs, workshops, and educational resources for communities and organizations.</p>
                <ul>
                    <li>Community workshops</li>
                    <li>Technical training</li>
                    <li>Educational materials</li>
                    <li>Open source contributions</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <h3>Custom Installations</h3>
                <p>End-to-end deployment of monitoring systems tailored to your specific environmental needs.</p>
                <ul>
                    <li>Site assessment</li>
                    <li>System design</li>
                    <li>Installation & setup</li>
                    <li>Ongoing maintenance and free training to do it internally</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-container">
        <h2>Ready to Monitor Your Environment?</h2>
        <p>Join the future of environment and infrastructure monitoring with open-source and transparent solutions.</p>
        
    </div>
</section>
{% endblock %}
