{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero">
    <div class="hero-container">
        <div class="hero-content">
            <h1 class="hero-title">
                Environment and Infrastructure Monitoring
            </h1>
            <p class="hero-description">
                Detect pipe breaks, flood risks, extreme weather, chemical contamination, and infrastructure anomalies 
                before they escalate. Our monitoring systems combine off grid communication, sensor arrays and advanced modeling techniques for real time protection.
           </p>
            
            <div class="hero-buttons">
                <a href="#hardware" class="btn btn-primary">
                    <i class="fas fa-play"></i>
                    Explore Technology
                </a>
                <a href="#services" class="btn btn-secondary">
                    <i class="fas fa-arrow-right"></i>
                    Our Services
                </a>
            </div>
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number stat-with-percent">100</span>
                    <span class="stat-label">Off Grid</span>
                </div>
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Monitoring</span>
                </div>
                <div class="stat">
                    <span class="stat-number">‚àû</span>
                    <span class="stat-label">Range*</span>
                </div>
                <div class="stat">
                    <span class="stat-number">$0</span>
                    <span class="stat-label">Communication Cost</span>
                </div>
            </div>
        </div>


        <div class="hero-visual">
            <svg class="network-diagram" viewBox="0 0 800 400" aria-label="Environmental monitoring network flow">
                
                <!-- Data Flow Arrows -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="10" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#00C805"/>
                    </marker>
                    
                    <!-- Gradients for modern look -->
                    <linearGradient id="sensorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#38bdf8;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0ea5e9;stop-opacity:1" />
                    </linearGradient>
                    
                    <linearGradient id="telecomGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
                    </linearGradient>
                    
                    <linearGradient id="gnssGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
                    </linearGradient>
                    
                    <linearGradient id="alertGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                    </linearGradient>
                    
                    <linearGradient id="modelGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
                    </linearGradient>
                </defs>
                
                <!-- Connection Lines with Animation -->
                <path d="M 120 120 Q 200 120 240 200" class="data-flow" marker-end="url(#arrowhead)"/>
                <path d="M 120 280 Q 200 280 240 200" class="data-flow" marker-end="url(#arrowhead)"/>
                <path d="M 320 200 L 430 200" class="data-flow" marker-end="url(#arrowhead)"/>
                <path d="M 510 200 L 600 150" class="data-flow" marker-end="url(#arrowhead)"/>
                <path d="M 510 200 L 600 250" class="data-flow" marker-end="url(#arrowhead)"/>
                
                <!-- Sensor Cluster -->
                <g class="sensor-group">
                    <!-- Temperature Sensor -->
                    <g class="node sensor" transform="translate(120,120)">
                        <circle r="28" fill="url(#sensorGrad)" class="node-circle"/>
                        <g transform="translate(-8,-8)">
                            <!-- Temperature icon SVG -->
                            <rect x="6" y="2" width="4" height="12" rx="2" fill="white"/>
                            <circle cx="8" cy="16" r="3" fill="white"/>
                        </g>
                        <text x="0" y="50" class="node-label">Air Sensors</text>
                    </g>
                    
                    <!-- Water Level Sensor -->
                    <g class="node sensor" transform="translate(120,280)">
                        <circle r="28" fill="url(#sensorGrad)" class="node-circle"/>
                        <g transform="translate(-8,-8)">
                            <!-- Water drop icon SVG -->
                            <path d="M 8 2 C 12 6, 14 10, 8 14 C 2 10, 4 6, 8 2 Z" fill="white"/>
                        </g>
                        <text x="0" y="50" class="node-label">Water Sensors</text>
                    </g>
                </g>
                
                <!-- Telecom Hub -->
                <g class="node telecom" transform="translate(280,200)">
                    <rect x="-35" y="-25" width="70" height="50" rx="8" fill="url(#telecomGrad)" class="node-rect"/>
                    <g transform="translate(-12,-12)">
                        <!-- Radio tower icon SVG -->
                        <rect x="11" y="4" width="2" height="16" fill="white"/>
                        <path d="M 6 8 L 12 6 L 18 8" stroke="white" stroke-width="1.5" fill="none"/>
                        <path d="M 4 12 L 12 9 L 20 12" stroke="white" stroke-width="1.5" fill="none"/>
                    </g>
                    <text x="0" y="45" class="node-label">NightHeronLabs</text>
                </g>
                
                <!-- GNSS Satellite -->
                <g class="node gnss" transform="translate(470,200)">
                    <circle r="32" fill="url(#gnssGrad)" class="node-circle"/>
                    <g transform="translate(-12,-12)">
                        <!-- Satellite icon SVG -->
                        <rect x="8" y="8" width="8" height="8" rx="1" fill="white"/>
                        <rect x="4" y="10" width="4" height="1" fill="white"/>
                        <rect x="16" y="10" width="4" height="1" fill="white"/>
                        <rect x="10" y="4" width="1" height="4" fill="white"/>
                        <rect x="10" y="16" width="1" height="4" fill="white"/>
                    </g>
                    <text x="0" y="55" class="node-label">Digital Twins</text>
                </g>
                
                <!-- Alert System -->
                <g class="node alert" transform="translate(650,150)">
                    <polygon points="-25,20 0,-25 25,20" fill="url(#alertGrad)" class="node-poly"/>
                    <g transform="translate(-6,-6)">
                        <!-- Alert icon SVG -->
                        <path d="M 6 2 L 10 2 L 9 8 L 7 8 Z" fill="white"/>
                        <circle cx="8" cy="10" r="1" fill="white"/>
                    </g>
                    <text x="0" y="40" class="node-label">Alerts</text>
                </g>
                
                <!-- Environmental Model -->
                <g class="node model" transform="translate(650,250)">
                    <rect x="-30" y="-20" width="60" height="40" rx="6" fill="url(#modelGrad)" class="node-rect"/>
                    <g transform="translate(-10,-8)">
                        <!-- Brain/AI model icon SVG -->
                        <path d="M 4 8 C 4 4, 8 2, 12 4 C 16 2, 20 4, 20 8 C 20 10, 18 12, 16 12 C 14 14, 10 14, 8 12 C 6 12, 4 10, 4 8 Z" 
                              fill="white" opacity="0.9"/>
                        <circle cx="8" cy="8" r="1" fill="url(#modelGrad)"/>
                        <circle cx="12" cy="6" r="1" fill="url(#modelGrad)"/>
                        <circle cx="16" cy="8" r="1" fill="url(#modelGrad)"/>
                    </g>
                    <text x="0" y="40" class="node-label">Env Models</text>
                </g>
                
                <!-- Data indicators -->
                <g class="data-indicators">
                    <!-- Moving dot from Air Sensors to NightHeronLabs -->
                    <circle r="4" fill="#00C805" opacity="0.9">
                        <animateMotion dur="2s" repeatCount="indefinite" path="M 120 120 Q 200 120 240 200"/>
                    </circle>

                    <!-- Moving dot from Water Sensors to NightHeronLabs -->
                    <circle r="4" fill="#00C805" opacity="0.9">
                        <animateMotion dur="2s" repeatCount="indefinite" path="M 120 280 Q 200 280 240 200" begin="0.5s"/>
                    </circle>

                    <!-- Moving dot from NightHeronLabs to Digital Twins -->
                    <circle cx="320" cy="200" r="4" fill="#00C805" opacity="0.9">
                        <animate attributeName="cx" values="320;430;320" dur="2s" repeatCount="indefinite" calcMode="linear"/>
                    </circle>
                </g>
                
            </svg>
        </div>
    </div>
    
</section>

<!-- Live Demo Section -->
<section class="demo-section">
    <div class="demo-container">
        <div class="demo-header">
            <h2>Digital Twins</h2>
            <p>Berkeley's watershed and sewer infrastructure with real-time sensor data</p>
            
        </div>
        
        <div class="live-map-container" id="liveMapContainer">
            <div class="map-frame">
                <div class="map-header">
                    <div class="map-status">
                        <div class="status-indicator live"></div>
                        <span>Live Data</span>
                    </div>
                   
                    <div class="map-legend">
                        <div class="legend-item">
                            <div class="legend-dot sensor-dot"></div>
                            <span>Sensors</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line creek-line"></div>
                            <span>Creeks</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line sewer-line"></div>
                            <span>Sewer Lines</span>
                        </div>
                    </div>
                </div>
                
                <div class="embedded-map">
                    <div class="map-and-sensors-container">
                        <div class="map-container-wrapper">
                            <div id="skysense-map" class="interactive-map"></div>
                        </div>
                        
                        <!-- Integrated Sensor Panel -->
                        <div class="integrated-sensor-panel" id="integrated-sensor-panel">
                            <div class="sensor-panel-header">
                                <h4 class="sensor-panel-title"><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                                <div class="sensor-panel-controls">
                                    <button id="toggle-panel" class="panel-toggle-btn" title="Show/Hide Sensor Data">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="sensor-panel-content" id="sensor-panel-content">
                                <div id="live-sensor-dashboard" class="integrated-sensor-dashboard">
                                    <!-- Sensor cards will be dynamically added here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="map-controls">
                        <div class="layer-controls">
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sensors" checked>
                                <span>Sensors</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-creeks" checked>
                                <span>Creeks</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-sewers" checked>
                                <span>Sewer Lines</span>
                            </label>
                            <label class="control-item">
                                <input type="checkbox" id="toggle-storms" checked>
                                <span>Storm Drains</span>
                            </label>
                        </div>
                        <div class="map-actions">
                            <button id="reset-view" class="map-btn" title="Reset to default view">
                                <i class="fas fa-home"></i>
                            </button>
                            <button id="locate-user" class="map-btn" title="Find my location">
                                <i class="fas fa-crosshairs"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Keep the original dashboard for backward compatibility -->
                    <div class="sensor-dashboard" id="sensor-dashboard" style="display: none;">
                        <div class="dashboard-header">
                            <h4><i class="fas fa-broadcast-tower"></i> Live Sensors</h4>
                            <button id="close-dashboard" class="close-btn">√ó</button>
                        </div>
                        <div class="dashboard-content">
                            <div class="loading-text">Click on a sensor to view data...</div>
                        </div>
                    </div>
                </div>
        </div>
        
        <div class="demo-stats">
            <div class="stat-card">
                <i class="fas fa-broadcast-tower"></i>
                <div class="stat-info">
                    <span class="stat-number">10+</span>
                    <span class="stat-label">Active Sensors</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-clock"></i>
                <div class="stat-info">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Live Monitoring</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-database"></i>
                <div class="stat-info">
                    <span class="stat-number">1M+</span>
                    <span class="stat-label">Data Points</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <div class="stat-info">
                    <span class="stat-number">Open</span>
                    <span class="stat-label">Public Access</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Communications & Telemetry Section -->
<section id="communications" class="hardware-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Connectivity</span>
            <h2>Communications & Telemetry</h2>
            <p>
                Reliable data delivery from anywhere ‚Äî even where power, internet, or cellular service is limited or unavailable.
                Our systems transmit sensor data using the best available network, including Meshtastic mesh,
                Helium LoRaWAN, Wi-Fi, and cellular connections.
            </p>
        </div>

        <div class="hardware-grid">

            <!-- Internet Gateway -->
            <div class="hardware-card gateway-card">
                <div class="card-icon">
                    <i class="fas fa-wifi"></i>
                </div>
                <h3>Internet Gateway</h3>
                <p>
                    Serves as the connection point between field-deployed sensors and the cloud.
                    Gateways collect long-range wireless data and forward it securely using
                    Wi-Fi or cellular networks when available.
                </p>

                <div class="hardware-specs">
                    <h4>Key Capabilities</h4>
                    <ul>
                        <li><i class="fas fa-broadcast-tower"></i> Long-range LoRa data reception</li>
                        <li><i class="fas fa-network-wired"></i> Wi-Fi or cellular internet backhaul</li>
                        <li><i class="fas fa-cloud"></i> Secure, automatic cloud delivery</li>
                    </ul>
                </div>
            </div>

            <!-- Mesh & Relay Nodes -->
            <div class="hardware-card node-card">
                <div class="card-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <h3>Mesh & Relay Nodes</h3>
                <p>
                    Expand coverage into remote, obstructed, or off-grid environments.
                    These nodes relay data between devices, forming a resilient, self-healing mesh
                    that adapts as conditions change.
                </p>

                <div class="hardware-specs">
                    <h4>Ideal Use Cases</h4>
                    <ul>
                        <li><i class="fas fa-mountain"></i> Remote terrain and canyons</li>
                        <li><i class="fas fa-tree"></i> Forests, watersheds, and rural areas</li>
                        <li><i class="fas fa-solar-panel"></i> Fully off-grid deployments</li>
                        <li><i class="fas fa-random"></i> Multi-hop, long-distance routing</li>
                    </ul>
                </div>
            </div>

            <!-- Sensor Telemetry Units -->
            <div class="hardware-card transmitter-card">
                <div class="card-icon">
                    <i class="fas fa-satellite-dish"></i>
                </div>
                <h3>Sensor Telemetry Units</h3>
                <p>
                    Collect and transmit environmental data using ultra-low-power wireless communication.
                    Designed for long-term deployment with minimal maintenance in challenging environments.
                </p>

                <div class="hardware-specs">
                    <h4>Supported Communication Paths</h4>
                    <ul>
                        <li><i class="fas fa-share-alt"></i> Meshtastic mesh networks</li>
                        <li><i class="fas fa-signal"></i> Helium LoRaWAN coverage</li>
                        <li><i class="fas fa-wifi"></i> Local Wi-Fi connections</li>
                        <li><i class="fas fa-sim-card"></i> Cellular networks</li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="hardware-links">
            <a href="https://meshmap.net/" target="_blank" class="hardware-link">
                <i class="fas fa-map-marked-alt"></i>
                Meshtastic Coverage Map
            </a>
            <a href="https://explorer.helium.com/" target="_blank" class="hardware-link">
                <i class="fas fa-broadcast-tower"></i>
                Helium Network Explorer
            </a>
        </div>
    </div>
</section>

<!-- Technology Section -->
<section id="technology" class="technology-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">AI Technology</span>
            <h2>Advanced Anomaly Detection</h2>
            <p>Machine learning and neural networks for intelligent environmental monitoring</p>
        </div>
        
        <div class="tech-content">
            <div class="tech-features">          
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Graph Neural Networks</h3>
                        <p>Advanced GNN architectures that understand the relationships between sensors, enabling system-wide anomaly detection and root cause analysis.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Digital Twins</h3>
                        <p>Real-time digital replicas of physical infrastructure that enable predictive maintenance and scenario simulation.</p>
                    </div>
                </div>
                
                <div class="tech-feature">
                    <div class="feature-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Early Warning Systems</h3>
                        <p>Detect pipe breaks, flood risks, chemical contamination, and other damaging events before they escalate into major problems.</p>
                    </div>
                </div>
            </div>
            
            <div class="tech-visual">
                <svg class="pipeline-diagram" viewBox="0 0 700 400" aria-label="GNN-informed Digital Twin pipeline">
                    <defs>
                        <!-- Gradients -->
                        <linearGradient id="sensorInputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="digitalTwinGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="gnnGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="insightGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="alertGradRed" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                        </linearGradient>

                        <!-- Glow filter -->
                        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>

                    <!-- Connection Lines (behind everything) -->
                    <g class="pipeline-connections" opacity="0.6">
                        <!-- Sensors to Digital Twin -->
                        <path d="M 95 120 Q 140 120 160 180" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 95 200 L 160 200" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 95 280 Q 140 280 160 220" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>

                        <!-- Digital Twin to GNN -->
                        <path d="M 295 200 L 370 160" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 295 200 L 370 200" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 295 200 L 370 240" stroke="#10b981" stroke-width="2" fill="none" stroke-dasharray="4 2"/>

                        <!-- GNN to Insights -->
                        <path d="M 500 180 L 560 120" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 200 L 560 190" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 220 L 560 260" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                        <path d="M 500 240 L 560 330" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="4 2"/>
                    </g>

                    <!-- STAGE 1: Sensor Inputs -->
                    <g class="sensor-inputs">
                        <text x="60" y="50" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">SENSORS</text>

                        <!-- Water Sensor -->
                        <g class="sensor-node" transform="translate(60, 120)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üíß</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Water</text>
                        </g>

                        <!-- Air Sensor -->
                        <g class="sensor-node" transform="translate(60, 200)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üå°</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Air</text>
                        </g>

                        <!-- Pressure Sensor -->
                        <g class="sensor-node" transform="translate(60, 280)">
                            <circle r="22" fill="url(#sensorInputGrad)" />
                            <text x="0" y="5" fill="white" font-size="14" text-anchor="middle">üìä</text>
                            <text x="0" y="40" fill="#475569" font-size="9" text-anchor="middle">Pressure</text>
                        </g>
                    </g>

                    <!-- STAGE 2: Digital Twin (Prominent) -->
                    <g class="digital-twin-core" transform="translate(225, 200)">
                        <text x="0" y="-95" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">DIGITAL TWIN</text>

                        <!-- Outer glow ring -->
                        <circle r="72" fill="none" stroke="#10b981" stroke-width="1" opacity="0.3" />

                        <!-- Main container -->
                        <circle r="65" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>

                        <!-- Mini infrastructure schematic inside -->
                        <g class="infra-schematic" opacity="0.8">
                            <!-- Pipes -->
                            <path d="M -35 -20 L -35 20 L 0 20" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M 35 -20 L 35 20 L 0 20" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M 0 20 L 0 40" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M -20 -35 L 20 -35" stroke="#059669" stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M -20 -35 L -20 -20 L -35 -20" stroke="#059669" stroke-width="2" fill="none" stroke-linecap="round"/>
                            <path d="M 20 -35 L 20 -20 L 35 -20" stroke="#059669" stroke-width="2" fill="none" stroke-linecap="round"/>

                            <!-- Junction nodes -->
                            <circle cx="-35" cy="-20" r="4" fill="#10b981"/>
                            <circle cx="35" cy="-20" r="4" fill="#10b981"/>
                            <circle cx="0" cy="20" r="5" fill="#10b981"/>
                            <circle cx="-20" cy="-35" r="3" fill="#10b981"/>
                            <circle cx="20" cy="-35" r="3" fill="#10b981"/>

                            <!-- Sensor points on infrastructure -->
                            <circle cx="-35" cy="0" r="3" fill="#3b82f6" />
                            <circle cx="35" cy="0" r="3" fill="#3b82f6" />
                            <circle cx="0" cy="-35" r="3" fill="#3b82f6" />
                        </g>
                    </g>

                    <!-- STAGE 3: GNN Graph Network -->
                    <g class="gnn-network" transform="translate(435, 200)">
                        <text x="0" y="-95" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">GNN LAYER</text>

                        <!-- Graph edges (connections between nodes) -->
                        <g class="graph-edges" stroke="#8b5cf6" stroke-width="1.5" opacity="0.5">
                            <line x1="-40" y1="-40" x2="0" y2="-25"/>
                            <line x1="-40" y1="-40" x2="-45" y2="10"/>
                            <line x1="40" y1="-35" x2="0" y2="-25"/>
                            <line x1="40" y1="-35" x2="45" y2="15"/>
                            <line x1="0" y1="-25" x2="-45" y2="10"/>
                            <line x1="0" y1="-25" x2="45" y2="15"/>
                            <line x1="-45" y1="10" x2="-25" y2="45"/>
                            <line x1="45" y1="15" x2="25" y2="50"/>
                            <line x1="-25" y1="45" x2="25" y2="50"/>
                            <line x1="-45" y1="10" x2="45" y2="15"/>
                            <line x1="0" y1="-25" x2="-25" y2="45"/>
                            <line x1="0" y1="-25" x2="25" y2="50"/>
                        </g>

                        <!-- Graph nodes -->
                        <circle cx="-40" cy="-40" r="12" fill="url(#gnnGrad)" />
                        <circle cx="40" cy="-35" r="12" fill="url(#gnnGrad)" />
                        <circle cx="0" cy="-25" r="14" fill="url(#gnnGrad)" />
                        <circle cx="-45" cy="10" r="11" fill="url(#gnnGrad)" />
                        <circle cx="45" cy="15" r="11" fill="url(#gnnGrad)" />
                        <circle cx="-25" cy="45" r="10" fill="url(#gnnGrad)" />
                        <circle cx="25" cy="50" r="10" fill="url(#gnnGrad)" />
                    </g>

                    <!-- STAGE 4: Decision Insights -->
                    <g class="insights-output">
                        <text x="620" y="50" class="stage-label" fill="#64748b" font-size="11" font-weight="600" text-anchor="middle">INSIGHTS</text>

                        <!-- Anomaly Alert -->
                        <g transform="translate(615, 110)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#alertGradRed)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">‚ö†Ô∏è Anomaly</text>
                        </g>

                        <!-- System Health -->
                        <g transform="translate(615, 180)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#digitalTwinGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üìà Health</text>
                        </g>

                        <!-- Predictive Maintenance -->
                        <g transform="translate(615, 250)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#insightGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üîß Predict</text>
                        </g>

                        <!-- Real-time Alerts -->
                        <g transform="translate(615, 320)">
                            <rect x="-50" y="-18" width="100" height="36" rx="6" fill="url(#sensorInputGrad)"/>
                            <text x="0" y="6" fill="white" font-size="11" font-weight="500" text-anchor="middle">üîî Alerts</text>
                        </g>
                    </g>

                </svg>
            </div>
        </div>
    </div>
</section>

<!-- Services Section -->
<section id="services" class="services-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Services</span>
            <h2>Solutions</h2>
            <p>We are here to help!</p>
        </div>
        
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Software</h3>
                <p>Custom environmental monitoring applications, real-time dashboards, and data analytics platforms.</p>
                <ul>
                    <li>Real-time monitoring dashboards</li>
                    <li>Secure access and encryption</li>
                    <li>API development</li>
                    <li>Cloud integration</li>
                    <li>SMS and email alerts</li>
                    <li>Advanced anomaly detection</li> 
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-microchip"></i>
                </div>
                <h3>Hardware</h3>
                <p>Custom sensor networks, IoT devices, and communication systems for harsh environments.</p>
                <ul>
                    <li>Preconfigured Sensor Arrays</li>
                    <li>LoRa mesh networks</li>
                    <li>Weatherproof enclosures</li>
                    <li>Power management</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3>Educational Outreach</h3>
                <p>Training programs, workshops, and educational resources for communities and organizations.</p>
                <ul>
                    <li>Community workshops</li>
                    <li>Technical training</li>
                    <li>Educational materials</li>
                    <li>Open source contributions</li>
                </ul>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <h3>Custom Installations</h3>
                <p>End-to-end deployment of monitoring systems tailored to your specific environmental needs.</p>
                <ul>
                    <li>Site assessment</li>
                    <li>System design</li>
                    <li>Installation & setup</li>
                    <li>Ongoing maintenance and free training to do it internally</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-container">
        <h2>Ready to Monitor Your Environment?</h2>
        <p>Join the future of environment and infrastructure monitoring with open-source and transparent solutions.</p>
        
        <div class="cta-buttons">
            <a href="#contact" class="btn btn-primary">
                <i class="fas fa-rocket"></i>
                Get Started
            </a>
            <a href="https://github.com/your-org" target="_blank" class="btn btn-outline">
                <i class="fab fa-github"></i>
                View on GitHub
            </a>
        </div>
        
    </div>
</section>
{% endblock %}
